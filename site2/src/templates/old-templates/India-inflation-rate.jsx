import React, { Suspense, useEffect, useRef } from "react";

import {
  Box,
  Grid,
  GridItem,
  Heading,
  Text,
  List,
  ListItem,
  SimpleGrid,
  ThemeProvider,
  theme,
  Button,
} from "@chakra-ui/react";
import WithSubnavigation from "../components/layout";
import { Slide } from "react-reveal";
import useSWR from "swr";
import SingleStat from "../components/charts/SingleStat";
import SingleStatList from "../components/charts/SingleStatsGrid";
import { BrowserOnly } from "../components/BrowserOnly";

const Title = React.lazy(() => import("../components/Title"));
const HorizontalBarChart = React.lazy(() =>
  import("../components/charts/HorizontalBarChart")
);

const BarChart = React.lazy(() => import("../components/charts/BarChart"));

const Total = React.lazy(() => import("../components/Total"));
const Map = React.lazy(() => import("../components/charts/Map"));

export default function BudgetAnalysis() {
  const isSSR = typeof window === "undefined";
  if (isSSR) return null;

  return (
    <WithSubnavigation>
      <Box h={"calc(100vh - 70px)"}>
        <Box my={"64px"}>
          <Heading textAlign={"center"} size={"4xl"}>
            India Inflation Rate 1960-2023
          </Heading>
        </Box>
        <BrowserOnly>
          <BarChart
            height={500}
            data={[
              {
                texttemplate: "%{x}%",
                marker: {
                  color: [
                    6.7, 5.13, 6.62, 3.73, 3.94, 3.33, 4.95, 4.91, 6.67, 10.02,
                    9.48, 8.91, 11.99, 10.88, 8.35, 6.37, 5.8, 4.25, 3.77, 3.81,
                    4.3, 3.78, 4.01, 4.67, 13.23, 7.16, 8.98, 10.22, 10.25,
                    6.33, 11.79, 13.87, 8.97, 7.07, 9.38, 8.8, 8.73, 5.56, 8.32,
                    11.87, 7.89, 13.11, 11.35, 6.28, 2.52, 8.31, -7.63, 5.75,
                    28.6, 16.94, 6.44, 3.08, 5.09, -0.58, 3.24, 13.06, 10.8,
                    9.47, 13.36, 2.95, 3.63, 1.7, 1.78,
                  ],
                  colorscale: "Bluered",
                },
                y: [
                  6.7, 5.13, 6.62, 3.73, 3.94, 3.33, 4.95, 4.91, 6.67, 10.02,
                  9.48, 8.91, 11.99, 10.88, 8.35, 6.37, 5.8, 4.25, 3.77, 3.81,
                  4.3, 3.78, 4.01, 4.67, 13.23, 7.16, 8.98, 10.22, 10.25, 6.33,
                  11.79, 13.87, 8.97, 7.07, 9.38, 8.8, 8.73, 5.56, 8.32, 11.87,
                  7.89, 13.11, 11.35, 6.28, 2.52, 8.31, -7.63, 5.75, 28.6,
                  16.94, 6.44, 3.08, 5.09, -0.58, 3.24, 13.06, 10.8, 9.47,
                  13.36, 2.95, 3.63, 1.7, 1.78,
                ],
                x: [
                  "2022",
                  "2021",
                  "2020",
                  "2019",
                  "2018",
                  "2017",
                  "2016",
                  "2015",
                  "2014",
                  "2013",
                  "2012",
                  "2011",
                  "2010",
                  "2009",
                  "2008",
                  "2007",
                  "2006",
                  "2005",
                  "2004",
                  "2003",
                  "2002",
                  "2001",
                  "2000",
                  "1999",
                  "1998",
                  "1997",
                  "1996",
                  "1995",
                  "1994",
                  "1993",
                  "1992",
                  "1991",
                  "1990",
                  "1989",
                  "1988",
                  "1987",
                  "1986",
                  "1985",
                  "1984",
                  "1983",
                  "1982",
                  "1981",
                  "1980",
                  "1979",
                  "1978",
                  "1977",
                  "1976",
                  "1975",
                  "1974",
                  "1973",
                  "1972",
                  "1971",
                  "1970",
                  "1969",
                  "1968",
                  "1967",
                  "1966",
                  "1965",
                  "1964",
                  "1963",
                  "1962",
                  "1961",
                  "1960",
                ],
              },
            ]}
          />
          <BarChart
            height={500}
            data={[
              {
                texttemplate: "%{x}%",
                marker: {
                  color: [
                    1.57, -1.49, 2.89, -0.21, 0.61, -1.62, 0.04, -1.76, -3.35,
                    0.54, 0.57, -3.08, 1.11, 2.53, 1.98, 0.58, 1.55, 0.48,
                    -0.04, -0.49, 0.52, -0.23, -0.66, -8.56, 6.07, -1.81, -1.25,
                    -0.02, 3.92, -5.46, -2.08, 4.9, 1.9, -2.31, 0.58, 0.07,
                    3.17, -2.76, -3.55, 3.98, -5.22, 1.77, 5.07, 3.75, -5.78,
                    15.94, -13.38, -22.85, 11.66, 10.5, 3.36, -2.01, 5.68,
                    -3.82, -9.82, 2.26, 1.33, -3.88, 10.41, -0.69, 1.94, -0.08,
                    -0.08,
                  ],
                  colorscale: "Viridis",
                },
                y: [
                  1.57, -1.49, 2.89, -0.21, 0.61, -1.62, 0.04, -1.76, -3.35,
                  0.54, 0.57, -3.08, 1.11, 2.53, 1.98, 0.58, 1.55, 0.48, -0.04,
                  -0.49, 0.52, -0.23, -0.66, -8.56, 6.07, -1.81, -1.25, -0.02,
                  3.92, -5.46, -2.08, 4.9, 1.9, -2.31, 0.58, 0.07, 3.17, -2.76,
                  -3.55, 3.98, -5.22, 1.77, 5.07, 3.75, -5.78, 15.94, -13.38,
                  -22.85, 11.66, 10.5, 3.36, -2.01, 5.68, -3.82, -9.82, 2.26,
                  1.33, -3.88, 10.41, -0.69, 1.94, -0.08, -0.08,
                ],
                x: [
                  "2022",
                  "2021",
                  "2020",
                  "2019",
                  "2018",
                  "2017",
                  "2016",
                  "2015",
                  "2014",
                  "2013",
                  "2012",
                  "2011",
                  "2010",
                  "2009",
                  "2008",
                  "2007",
                  "2006",
                  "2005",
                  "2004",
                  "2003",
                  "2002",
                  "2001",
                  "2000",
                  "1999",
                  "1998",
                  "1997",
                  "1996",
                  "1995",
                  "1994",
                  "1993",
                  "1992",
                  "1991",
                  "1990",
                  "1989",
                  "1988",
                  "1987",
                  "1986",
                  "1985",
                  "1984",
                  "1983",
                  "1982",
                  "1981",
                  "1980",
                  "1979",
                  "1978",
                  "1977",
                  "1976",
                  "1975",
                  "1974",
                  "1973",
                  "1972",
                  "1971",
                  "1970",
                  "1969",
                  "1968",
                  "1967",
                  "1966",
                  "1965",
                  "1964",
                  "1963",
                  "1962",
                  "1961",
                  "1960",
                ],
              },
            ]}
          />
        </BrowserOnly>
      </Box>
    </WithSubnavigation>
  );
}
